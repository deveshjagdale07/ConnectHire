<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <h1>Your Job Requests</h1>
    
    <% if (requests.length > 0) { %>
        <% requests.forEach(request => { %>
            <div class="request-card" style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                    <img src="<%= request.company_logo || '/images/default_company.png' %>" alt="<%= request.company_name %> Logo" style="width: 50px; height: 50px; border-radius: 50%; object-fit: contain;">
                    <h3><%= request.company_name %></h3>
                </div>
                <p><strong>Job Role:</strong> <%= request.role %></p>
                <p><strong>Compensation:</strong> <%= request.compensation %></p>
                <p><strong>Location:</strong> <%= request.location %></p>
                <p><strong>Job Type:</strong> <%= request.job_type %></p>
                <p><strong>Status:</strong> <span style="font-weight: bold; text-transform: capitalize;"><%= request.status %></span></p>

                <% if (request.status === 'pending') { %>
                    <form action="/job_seeker/accept_request/<%= request.id %>" method="POST" style="display: inline;">
                        <button type="submit" style="background-color: green; color: white;">Accept</button>
                    </form>
                    <form action="/job_seeker/reject_request/<%= request.id %>" method="POST" style="display: inline;">
                        <button type="submit" style="background-color: red; color: white;">Reject</button>
                    </form>
                <% } %>
            </div>
        <% }); %>
    <% } else { %>
        <p>You have no job requests at this time.</p>
    <% } %>
</body>
</html>